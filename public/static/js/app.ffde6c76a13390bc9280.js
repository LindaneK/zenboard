webpackJsonp([1],{"+5Sz":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"zbr-row zbr-table-bg",on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[a("th",[a("div",{staticClass:"zro-title-container"},[a("div",{staticClass:"zro-title",attrs:{"data-is-test-data":"0F65u28Rc66ORYII"===t.row.title},on:{click:t.onClick}},[t._v(t._s(t.row.title))])]),t._v(" "),a("RowTags",{attrs:{description:t.row.description,isRowArchived:!1}}),t._v(" "),t.hover?a("div",{staticClass:"zro-button",attrs:{disabled:"hasDraftCard"},on:{click:t.addDraftCard}},[t._v("+ Add card")]):t._e(),t._v(" "),t.hover?t._e():a("div",{staticClass:"zro-button zro-button-placeholder"},[t._v("+ Add card")])],1),t._v(" "),t._l(t.row.cells,function(e,n){return a("Cell",{key:t.row.id+","+n,attrs:{cell:e,rowId:t.row.id,hasDraftCard:t.hasDraftCard&&1===e.colId,lastDragColId:t.lastDragColId,newCardId:t.newCardId}})})],2)},r=[],s={render:n,staticRenderFns:r};e.a=s},"+XX7":function(t,e,a){"use strict";function n(t){a("GaDp")}var r=a("0R4v"),s=a("Gu8D"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},"+Y6S":function(t,e,a){"use strict";var n=a("mvHQ"),r=a.n(n),s=a("IN6T"),o={inserted:function(t){t.focus()}};e.a={name:"DraftCard",props:{rowId:Number,colId:Number,numCards:Number},directives:{focus:o},data:function(){return{title:"",hasChanges:!1}},methods:{onInput:function(t){this.title=t.target.innerText,this.hasChanges=!0},onCancel:function(t){var e=this.rowId,a=this.colId,n={rowId:e,colId:a};console.log("draft-card:draft-card-cancel",this.rowId,this.colId),s.a.$emit("draft-card-cancel",n)},onSave:function(t){if(this.title){if(this.hasChanges){var e={title:this.title,rowId:this.rowId,colId:this.colId,position:this.numCards+1};fetch("/api/cards/create",{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:r()(e)}).then(function(t){if(!t.ok)throw Error(t.statusText);s.a.$emit("draft-card-cancel",e)}).catch(function(t){return alert("Sorry, something went wrong\n\n"+t)})}}else this.onCancel()}},mounted:function(){var t=this;s.a.$on("global-cancel",function(e){console.log("draft-card:global-cancel"),t.onCancel()})}}},"/NM8":function(t,e,a){"use strict";var n=a("nEKg"),r=a("X2iU"),s=a("VU/8"),o=s(n.a,r.a,!1,null,null,null);e.a=o.exports},"0R4v":function(t,e,a){"use strict";var n=a("BO1k"),r=a.n(n);e.a={name:"RowTags",props:{description:String,isRowArchived:Boolean},computed:{rowProps:function(){var t=[],e=this.description.split("\n"),a=!0,n=!1,s=void 0;try{for(var o,i=r()(e);!(a=(o=i.next()).done);a=!0){var c=o.value,d=!1;c.startsWith("* Goal:")&&(d=this.lineToNameVal(c,"Goal",3)),c.startsWith("* ETA:")&&(d=this.lineToNameVal(c,"ETA",3)),c.startsWith("* Ongoing")&&(d={name:"Ongoing"}),c.startsWith("* Start:")&&(d=this.lineToNameVal(c,"Start",3)),c.startsWith("* End:")&&(d=this.lineToNameVal(c,"End",3)),c.startsWith("* Impact:")&&(d=this.lineToNameVal(c,"Impact",3)),d&&t.push(d)}}catch(t){n=!0,s=t}finally{try{!a&&i.return&&i.return()}finally{if(n)throw s}}return t}},methods:{lineToNameVal:function(t,e,a){var n=e.length+a,r=t.substr(n).trim();return r.length>60&&(r=r.substr(0,60)+"..."),!!r&&{name:e,val:r}}}}},"0d9p":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Draggable",{staticClass:"drag-area",attrs:{element:"td",list:t.cell.cards,options:t.dragOptions,"data-col-id":t.cell.colId,"data-row-id":t.rowId},on:{end:t.onEnd,start:t.onStart}},[t._l(t.cell.cards,function(e){return a("Card",{key:e.id,attrs:{card:e,colId:t.cell.colId,lastDragColId:t.lastDragColId,newCardId:t.newCardId}})}),t._v(" "),t.hasDraftCard?a("DraftCard",{attrs:{rowId:t.rowId,colId:t.cell.colId,numCards:t.cell.cards.length}}):t._e()],2)},r=[],s={render:n,staticRenderFns:r};e.a=s},"34ds":function(t,e){},"3uBM":function(t,e,a){"use strict";var n=a("IN6T");e.a={name:"Nudge",props:{cardId:Number,lastDragColId:[Number,Boolean],newCardId:[Number,Boolean]},data:function(){return{message:"",image:""}},mounted:function(){var t=this;this.cardId===this.newCardId&&(t.initMessageForCardCreated(),n.a.$emit("nudge-clear",this.newCardId)),n.a.$on("card-nudge",function(e){t.message="",t.image="",console.log("nudge",e.id,t.cardId),e.id.toString()===t.cardId.toString()&&(console.log("lastdrag",t.lastDragColId,e.colId),t.lastDragColId.toString()!==e.colId.toString()&&t.initMessageForCardMoved(e.colId))}),n.a.$on("nudge-clear",function(e){t.cardId.toString()!==e.toString()&&(t.message="",t.image="")})},watch:{fromColId:function(t){console.log("newFromColId",t)}},methods:{initMessageForCardMoved:function(t){if(4===t){switch(this.getRandomInt(1,14)){case 1:this.message="Will you be able to tell if this has the desired impact?";break;case 2:this.message="Did you test in different browsers? Better now than never!!";break;case 3:this.message="Good work!";break;case 4:this.message="Nice :)";break;case 5:this.message='Bravo! <span class="fa fa-star" style="color: gold"></span>';break;case 6:this.message="Don't forget to take regular breaks!";break;case 7:this.message="One step closer to world domination... mwahahaha!",this.image="https://www.jobboarddoctor.com/wp-content/uploads/2016/12/world-domination-300x182.jpg";break;case 8:this.message="",this.image="http://images4.fanpop.com/image/photos/14700000/High-five-puppies-14748728-400-299.jpg";break;case 9:this.message="",this.image="http://s2.quickmeme.com/img/a8/a8400200b15766f638790dd94df2ff84bc52e24b6c5d67059cfeb01a4929f1c8.jpg";break;case 10:this.message="Chuck Norris is impressed",this.image="https://images02.military.com/sites/default/files/styles/full/public/media/veteran-jobs/content-images/2016/03/chucknorris.jpg"}}if(3===t){var e=this.getRandomInt(1,20);switch(this.icon=!1,e){case 1:this.message="Don't forget: get a different perspective from someone else";break;case 2:this.message="Not clear what's required? Conversation beats documentation";break;case 3:this.message="Face-to-face conversation helps :)";break;case 4:this.message="Collaborating can give you superpowers &#x26A1;";break;case 5:this.message="Is it clear what the desired outcome is?";break;case 6:this.message="How can you get customer feedback for this?";break;case 7:this.message="Will this need to be maintained?";break;case 8:this.message="Any security concerns for this?";break;case 9:this.message="Go for it!";break;case 10:this.message="Knock it out of the park!";break;case 11:this.message="Will this be your Sistine Chapel?";break;case 12:this.message="Use the force, Luke";break;case 13:this.message="Try some self-compassion";break;case 14:this.message="Start simple :)";break;case 16:this.message="I've got a good feeling about this"}}},initMessageForCardCreated:function(){console.log("Entering initMessageForCardCreated");var t=this.getRandomInt(1,15);switch(this.icon=!1,t){case 1:this.message='"Less, but better." ~ Dieter Rams';break;case 2:this.message='"Innovation is saying no to 1000 things" ~ Steve Jobs',this.image="https://www.nowyouknowfacts.com/wp-content/uploads/2015/01/SteveJobsCloseUp.jpeg";break;case 3:this.message="Is it clear what the desired outcome is?";break;case 4:this.message="How can you get user feedback for this?";break;case 5:this.message="A specific title makes it easier for people to pick up a card";break;case 7:this.message='"Build, Measure, Learn" ~ Lean Startup';break;case 8:this.message='"Experiment & Learn Rapidly" (quote from Modern Agile)';break;case 9:this.message='"Make your users awesome" ~ Kathy Sierra';break;case 10:this.message="What's the biggest assumption for this piece of work?";break;case 11:this.message="Is there a way to get user feedback sooner for this?"}},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},getRandomAvatar:function(){return["fox","cat","lion","panda"][this.getRandomInt(0,3)]+".svg"}}}},"5HxH":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.message||t.image?a("div",{staticClass:"zbr-nudge"},[a("div",{staticClass:"znu-content"},[t.image?[t.message?[a("div",{staticClass:"znu-message znu-message-wide",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),a("div",{staticClass:"znu-arrow-down"})]:t._e(),t._v(" "),a("img",{staticClass:"znu-img",attrs:{src:t.image}})]:[a("img",{staticClass:"znu-avatar",attrs:{src:"static/themes/desert-beach/avatars/"+t.getRandomAvatar(),width:"50"}}),t._v(" "),a("div",{staticClass:"znu-arrow-left"}),t._v(" "),a("div",{staticClass:"znu-message",domProps:{innerHTML:t._s(t.message)}})]],2)]):t._e()},r=[],s={render:n,staticRenderFns:r};e.a=s},"5lw2":function(t,e,a){"use strict";function n(t){a("Nt8S")}var r=a("+Y6S"),s=a("N/1S"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},"60jW":function(t,e,a){"use strict";function n(t){a("zphC")}var r=a("OFfM"),s=a("R8Oc"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},"6IVl":function(t,e){},"8Wsr":function(t,e,a){"use strict";var n=a("mvHQ"),r=a.n(n),s=a("DAYN"),o=a.n(s),i=a("rhdv"),c=a("5lw2"),d=a("IN6T");e.a={name:"Cell",props:{cell:Object,rowId:Number,hasDraftCard:Boolean,lastDragColId:[Number,Boolean],newCardId:[Number,Boolean]},components:{Draggable:o.a,Card:i.a,DraftCard:c.a},data:function(){return{dragCancelled:!1}},computed:{dragOptions:function(){return{group:"cards",ghostClass:"zca-ghost",disabled:this.contentEditable}}},methods:{onEnd:function(t){if(console.log("onEnd (drag)",t),!this.dragCancelled){var e={id:parseInt(t.clone.dataset.cardId),rowId:parseInt(t.to.dataset.rowId),colId:parseInt(t.to.dataset.colId),position:parseInt(t.newIndex)+1};fetch("/api/cards/move",{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:r()(e)}).then(function(t){if(!t.ok)throw Error(t.statusText);console.log("Card moved")}).catch(function(t){return alert("Sorry, something went wrong\n\n"+t)}),d.a.$emit("card-nudge",e)}},onStart:function(t){var e={cardId:parseInt(t.clone.dataset.cardId),colId:parseInt(t.srcElement.dataset.colId)};return d.a.$emit("card-drag-start",e),console.log("onStart",e),this.dragCancelled=!1,!0}}}},"8a40":function(t,e,a){"use strict";var n=a("Sz/U"),r=a("jF5e"),s=a("VU/8"),o=s(n.a,r.a,!1,null,null,null);e.a=o.exports},"93UE":function(t,e,a){"use strict";function n(t){a("WLx+")}var r=a("mpyD"),s=a("+5Sz"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},"9r7K":function(t,e,a){"use strict";var n=a("B1Az"),r=a("IN6T");e.a={name:"ArchivedCards",props:{cells:Array},components:{Cell:n.a},methods:{editDetails:function(t){console.log("ArchivedCards:editDetails",t.target.dataset.cardId),r.a.$emit("card-edit-details",t.target.dataset.cardId)}}}},B1Az:function(t,e,a){"use strict";var n=a("8Wsr"),r=a("0d9p"),s=a("VU/8"),o=s(n.a,r.a,!1,null,null,null);e.a=o.exports},BYqb:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"zbr-masthead"},[a("h1",{staticClass:"zbr-heading",attrs:{contenteditable:t.isTitleBeingEdited},on:{click:t.editTitle,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.saveTitleOnEnter(e)},blur:t.saveTitle,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.cancelTitle(e)}}},[t._v(t._s(t.title))]),t._v(" "),a("nav",{staticClass:"zbr-nav"},[a("ul",[a("li",{staticClass:"zbr-nav-item zbr-add-row",on:{click:t.addRow}},[t._v("+ Add row")]),t._v(" "),t.hasRows?a("li",{staticClass:"zbr-nav-item zbr-add-card",on:{click:t.addCard}},[t._v("+ Add card")]):t._e()])])])},r=[],s={render:n,staticRenderFns:r};e.a=s},E8Ei:function(t,e,a){"use strict";var n=a("mvHQ"),r=a.n(n),s=a("IN6T");e.a={name:"Masthead",props:{hasRows:Boolean,title:String},data:function(){return{isTitleBeingEdited:!1}},methods:{addCard:function(){s.a.$emit("masthead-add-card",!0)},addRow:function(){s.a.$emit("row-edit-details","new-row")},editTitle:function(){var t=this;this.isTitleBeingEdited=!0,setTimeout(function(){t.$el.querySelector(".zbr-heading").focus()},0)},saveTitle:function(){var t=this.$el.querySelector(".zbr-heading").textContent;fetch("/api/board/",{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:r()({title:t})}).catch(function(t){console.error(t),alert("Sorry, something went wrong\n\n"+t)}),this.isTitleBeingEdited=!1},cancelTitle:function(){this.isTitleBeingEdited=!1,this.$el.querySelector(".zbr-heading").innerHTML=this.title},saveTitleOnEnter:function(t){t.preventDefault(),this.saveTitle()},filterKey:function(t){"Enter"===t.key&&t.preventDefault()}},mounted:function(){var t=this;s.a.$on("board-title-loaded",function(e){console.log("masthead: title loaded"),t.title=e}),s.a.$on("global-cancel",function(){console.log("masthead: cancel"),t.cancelTitle()})}}},EcgC:function(t,e){},GaDp:function(t,e){},Gu8D:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.description?a("div",{staticClass:"zro-tags"},t._l(t.rowProps,function(e,n){return a("div",{key:n,staticClass:"zro-tag"},[a("span",{class:{"zrt-archive":t.isRowArchived}},[e.name?a("span",{class:{"zrt-name":!0,"zrt-name-archive":t.isRowArchived}},[t._v(t._s(e.name))]):t._e(),t._v("\n    "+t._s(e.val))])])})):t._e()},r=[],s={render:n,staticRenderFns:r};e.a=s},IN6T:function(t,e,a){"use strict";var n=a("7+uW"),r=new n.a;e.a=r},JEBs:function(t,e){},Kz3E:function(t,e,a){"use strict";function n(t){a("34ds")}var r=a("E8Ei"),s=a("BYqb"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},LA3F:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"zbr-card":!0,"zca-urgent":t.isUrgent},attrs:{"data-card-id":t.card.id,title:"id: "+t.card.id},on:{click:t.editDetails}},[t._v(t._s(t.card.title)),a("Nudge",{attrs:{cardId:t.card.id,lastDragColId:t.lastDragColId,newCardId:t.newCardId}})],1)},r=[],s={render:n,staticRenderFns:r};e.a=s},LFqx:function(t,e,a){"use strict";function n(t){a("JEBs")}var r=a("3uBM"),s=a("5HxH"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},LYzt:function(t,e,a){"use strict";var n=a("7+uW"),r=a("Kz3E"),s=a("93UE"),o=a("8a40"),i=a("60jW"),c=a("djVn"),d=a("IN6T"),l=a("hMcO"),u=a.n(l),h=window.location.origin;n.a.use(u.a,h),e.a={name:"Board",components:{Masthead:r.a,Row:s.a,CardEditor:o.a,RowEditor:i.a,Archive:c.a},props:{disableFetch:Boolean},data:function(){return{rows:[],archivedRows:[],archivedCards:[],title:"",lastDragCardId:!1,lastDragColId:!1,newCardId:!1}},sockets:{connect:function(){console.log("socket connected")},boardRefresh:function(t){console.log("boardRefresh",t),this.rows=t.rows},rowArchiveRefresh:function(t){console.log("rowArchiveRefresh",t),this.archivedRows=t},cardArchiveRefresh:function(t){console.log("cardArchiveRefresh",t),this.archivedCards=t},boardTitleLoaded:function(t){console.log("boardTitleLoaded"),d.a.$emit("board-title-loaded",t)},cardCreated:function(t){console.log("board:cardCreated"),this.newCardId=t.id}},watch:{rows:function(t){console.log(t)},archivedRows:function(t){console.log("archive",t)}},created:function(){var t=this;this.disableFetch||fetch("/api/rows/deep").then(function(e){if(!e.ok)throw new Error(e.statusText);e.json().then(function(e){t.rows=e,t.loadTitle()})}).catch(function(t){console.error(t),alert("Sorry, something went wrong\n\n"+t)})},methods:{onCancel:function(t){console.log("board:onCancel"),d.a.$emit("global-cancel",!0)},loadTitle:function(){var t=this;fetch("/api/board/").then(function(e){200===e.status&&e.json().then(function(e){t.title=e.title,document.title=e.title}),t.initArchive()})},initArchive:function(){var t=this;fetch("/api/archive/rows/deep").then(function(e){if(200!==e.status)throw Error(e.statusText);e.json().then(function(e){t.archivedRows=e,console.log("Archived rows",e)})}).catch(function(t){console.error(t),alert("Couldn't load archived rows\n\n"+t)}),fetch("/api/archive/cards").then(function(e){if(200!==e.status)throw Error(e.statusText);e.json().then(function(e){t.archivedCards=e,console.log("Archived cards",e)})}).catch(function(t){console.error(t),alert("Couldn't load archived cards\n\n"+t)})}},mounted:function(){var t=this;d.a.$on("card-drag-start",function(e){t.lastDragCardId=e.colId,t.lastDragColId=e.colId})}}},M93x:function(t,e,a){"use strict";function n(t){a("6IVl")}var r=a("xJD8"),s=a("Ujnh"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},Mmyj:function(t,e,a){"use strict";var n=a("/NM8"),r=a("aPqp");e.a={name:"Archive",props:{archivedRows:Array,archivedCards:Array},components:{ArchivedRow:n.a,ArchivedCards:r.a},computed:{hasArchivedCard:function(){var t=this.archivedCards,e=!1;return t&&t.forEach(function(t){console.log(t),t.cards.length&&(e=!0)}),e}}}},"N/1S":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"zen-draft-card",on:{keydown:function(e){return("button"in e||!t._k(e.keyCode,"enter",13,e.key))&&e.metaKey?void t.onSave(e):null},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onSave(e)}}},[a("div",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"zdc-title",attrs:{contenteditable:!0},on:{input:t.onInput}}),t._v(" "),a("div",{staticClass:"zdc-button-container"},[a("span",{staticClass:"zdc-button zdc-cancel",attrs:{title:"[Esc]","data-row-id":t.rowId,"data-col-id":t.colId},on:{click:t.onCancel}},[t._v("Cancel")]),t._v(" "),a("span",{staticClass:"zdc-button zdc-save",attrs:{title:"[Enter]"},on:{click:t.onSave}},[t._v("Save")])])])},r=[],s={render:n,staticRenderFns:r};e.a=s},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),r=a("M93x");n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App />",components:{App:r.a}})},NU23:function(t,e,a){"use strict";var n=a("IN6T"),r=a("LFqx");e.a={name:"Card",props:{card:Object,colId:Number,lastDragColId:[Number,Boolean],newCardId:[Number,Boolean]},components:{Nudge:r.a},methods:{editDetails:function(){console.log("card:editDetails"),n.a.$emit("card-edit-details",this.card.id)}},computed:{isUrgent:function(){return this.card.title.indexOf("!!")>0},filteredTitle:function(){return this.card.title}}}},Nt8S:function(t,e){},OFfM:function(t,e,a){"use strict";var n=a("mvHQ"),r=a.n(n),s=a("IN6T"),o={inserted:function(t){t.focus()}};e.a={name:"RowEditor",directives:{focus:o},data:function(){return{row:!1,allRows:[]}},mounted:function(){var t=this;s.a.$on("row-edit-details",function(e){console.log("Edit row",e),"new-row"===e?t.row={isNew:!0,position:1,isArchived:!1}:fetch("/api/rows/"+e).then(function(e){if(!e.ok)throw new Error(e.statusText);e.json().then(function(e){t.row=e,e.isArchived=e.is_archived,console.log(e),t.row.originalPosition=e.position})}).catch(function(t){console.error(t),alert("Sorry, something went wrong\n\n"+t)}),fetch("/api/rows/").then(function(e){e.json().then(function(e){t.allRows=e})}).catch(function(t){console.error(t),alert("Sorry, something went wrong\n\n"+t)})}),s.a.$on("global-cancel",function(){t.onCancel()})},methods:{showOption:function(t){return!!this.row.isNew||t!==this.row.position},positionLabel:function(t){return this.row.isNew?t+1:t>this.row.position?t:t+1},onCancel:function(){this.row=!1},onCancelIfClickOutside:function(t){t.srcElement.classList.contains("zen-row-editor")&&s.a.$emit("global-cancel",t)},onSave:function(){console.log("About to save row...");var t=this;console.log("api url",""),fetch("/api/rows/save",{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:r()(this.row)}).then(function(e){if(!e.ok)throw Error(e.statusText);console.log("Card saved"),t.row=!1}).catch(function(t){return alert("Sorry, something went wrong\n\n"+t)})}}}},R8Oc:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.row?a("div",{staticClass:"zen-modal zen-row-editor",on:{click:t.onCancelIfClickOutside}},[a("div",{staticClass:"zmo-content",on:{keydown:function(e){return("button"in e||!t._k(e.keyCode,"enter",13,e.key))&&e.metaKey?void t.onSave(e):null},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.onCancel(e)}}},[a("div",{staticClass:"zfo-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",name:"label",placeholder:t.row.isNew?"New row":"Title"},domProps:{value:t.row.title},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onSave(e)},input:function(e){e.target.composing||t.$set(t.row,"title",e.target.value)}}})]),t._v(" "),t.allRows.length?a("div",{staticClass:"zre-position"},[t.row.isArchived?a("input",{attrs:{type:"hidden",model:"row.position"}}):a("div",[t._v("Position\n        "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.row.position,expression:"row.position"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.row,"position",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:1}},[t._v("1 (top)")]),t._v(" "),t._l(t.allRows,function(e){return t.showOption(e.position)?a("option",{key:e.id,domProps:{value:t.positionLabel(e.position)}},[t._v(t._s(t.positionLabel(e.position))+" (after "+t._s(e.title)+")")]):t._e()})],2)])]):t._e(),t._v(" "),a("div",{staticClass:"zfo-description"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.description,expression:"row.description"}],attrs:{name:"description"},domProps:{value:t.row.description},on:{input:function(e){e.target.composing||t.$set(t.row,"description",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"zfo-buttons"},[a("input",{staticClass:"zfo-button zfo-cancel",attrs:{type:"button",value:"Cancel",title:"[Esc]"},on:{click:t.onCancel}}),t._v(" "),a("span",{staticClass:"zfo-archive"},[t._v("Archive "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.isArchived,expression:"row.isArchived"}],staticClass:"tdc-archive form-archive",attrs:{type:"checkbox",name:"archive"},domProps:{checked:Array.isArray(t.row.isArchived)?t._i(t.row.isArchived,null)>-1:t.row.isArchived},on:{change:function(e){var a=t.row.isArchived,n=e.target,r=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.row.isArchived=a.concat([null])):s>-1&&(t.row.isArchived=a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.row,"isArchived",r)}}})]),t._v(" "),a("input",{staticClass:"zfo-button zfo-save",attrs:{type:"button",value:"Save",title:"[CMD + Enter]"},on:{click:t.onSave}})])])]):t._e()},r=[],s={render:n,staticRenderFns:r};e.a=s},RSvS:function(t,e){},SoWz:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"zbr-row zbr-table-bg"},[t._m(0,!1,!1),t._v(" "),t._l(t.cells,function(e,n){return a("td",{key:n,attrs:{cell:e}},t._l(e.cards,function(e){return a("div",{key:e.id,staticClass:"zbr-card zar-card",attrs:{"data-card-id":e.id,title:"id: "+e.id},on:{click:t.editDetails}},[t._v(t._s(e.title))])}))})],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("div",{staticClass:"zro-title-container"},[a("div",{staticClass:"zro-title zar-title zar-default-cursor"},[t._v("Archived cards")])])])}],s={render:n,staticRenderFns:r};e.a=s},"Sz/U":function(t,e,a){"use strict";var n=a("mvHQ"),r=a.n(n),s=a("IN6T"),o={inserted:function(t){t.focus()}};e.a={name:"CardEditor",directives:{focus:o},data:function(){return{card:!1}},mounted:function(){var t=this;s.a.$on("card-edit-details",function(e){console.log("Edit card",e),fetch("/api/cards/"+e).then(function(e){e.json().then(function(e){t.card=e})}).catch(function(t){console.error(t),alert("Sorry, something went wrong\n\n"+t)})}),s.a.$on("global-cancel",function(){t.onCancel()})},methods:{onCancel:function(){this.card=!1},onCancelIfClickOutside:function(t){t.srcElement.classList.contains("zen-card-editor")&&s.a.$emit("global-cancel",t)},onSave:function(){if(console.log("About to save card...",this.card),!1===this.card)console.log("Card modal has no card to save");else{this.card.timestamp=(new Date).getTime();var t=this;fetch("/api/cards/save",{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:r()(this.card)}).then(function(e){if(!e.ok)throw Error(e.statusText);console.log("Card saved"),t.card=!1}).catch(function(t){return alert("Sorry, something went wrong\n\n"+t)})}},handleCmdEnter:function(t){console.log(t),(t.metaKey||t.ctrlKey)&&13===t.keyCode&&this.onSave()}}}},TUcH:function(t,e,a){"use strict";function n(t){a("hxys")}var r=a("LYzt"),s=a("mcWK"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},Ujnh:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Board"),t._v(" "),t._m(0,!1,!1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"zen-footer"},[a("a",{staticClass:"zfo-logo",attrs:{href:"https://github.com/mhumph/zenboard"}},[a("span",{staticClass:"zfo-logo-dark"},[t._v("Zen")]),a("span",{staticClass:"zfo-logo-light"},[t._v("board")])]),t._v(" "),a("span",{staticClass:"zfo-text"},[t._v("v0.4 | "),a("a",{staticClass:"zfo-link",attrs:{href:"https://www.shutterstock.com/video/clip-12129530.html",target:"_new"}},[t._v("Beach loop © Flixel Photos")]),t._v(" | "),a("a",{staticClass:"zfo-link",attrs:{href:"https://www.freepik.com/free-photos-vectors/icon",target:"_new"}},[t._v("Icon vector created by Freepik")])])])}],s={render:n,staticRenderFns:r};e.a=s},"WLx+":function(t,e){},X2iU:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"zbr-row zbr-table-bg"},[a("th",[a("div",{staticClass:"zro-title-container"},[a("div",{staticClass:"zro-title zar-title",attrs:{"data-is-test-data":"0F65u28Rc66ORYII"===t.row.title},on:{click:t.onClick}},[t._v(t._s(t.row.title))])]),t._v(" "),a("RowTags",{attrs:{description:t.row.description,isRowArchived:!0}})],1),t._v(" "),t._l(t.row.cells,function(e,n){return a("td",{key:n,attrs:{cell:e}},t._l(e.cards,function(e){return a("div",{key:e.id,staticClass:"zbr-card zar-card",attrs:{"data-card-id":e.id,title:"id: "+e.id},on:{click:t.editCardDetails}},[t._v(t._s(e.title))])}))})],2)},r=[],s={render:n,staticRenderFns:r};e.a=s},aPqp:function(t,e,a){"use strict";function n(t){a("EcgC")}var r=a("9r7K"),s=a("SoWz"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},djVn:function(t,e,a){"use strict";function n(t){a("lwdx")}var r=a("Mmyj"),s=a("ptgu"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},hxys:function(t,e){},jF5e:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.card?a("div",{staticClass:"zen-modal zen-card-editor",on:{click:t.onCancelIfClickOutside}},[a("div",{staticClass:"zmo-content",on:{keydown:function(e){return("button"in e||!t._k(e.keyCode,"enter",13,e.key))&&e.metaKey?void t.onSave(e):null},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.onCancel(e)}}},[a("div",{staticClass:"zfo-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.title,expression:"card.title"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",name:"title"},domProps:{value:t.card.title},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onSave(e)},input:function(e){e.target.composing||t.$set(t.card,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"zfo-description"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.description,expression:"card.description"}],attrs:{name:"description"},domProps:{value:t.card.description},on:{input:function(e){e.target.composing||t.$set(t.card,"description",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"zfo-buttons"},[a("input",{staticClass:"zfo-button zfo-cancel",attrs:{type:"button",value:"Cancel",title:"[Esc]"},on:{click:t.onCancel}}),t._v(" "),a("span",{staticClass:"zfo-archive"},[t._v("Archive "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.isArchived,expression:"card.isArchived"}],attrs:{type:"checkbox",name:"archive"},domProps:{checked:Array.isArray(t.card.isArchived)?t._i(t.card.isArchived,null)>-1:t.card.isArchived},on:{change:function(e){var a=t.card.isArchived,n=e.target,r=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.card.isArchived=a.concat([null])):s>-1&&(t.card.isArchived=a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.card,"isArchived",r)}}})]),t._v(" "),a("input",{staticClass:"zfo-button zfo-save",attrs:{type:"button",value:"Save",title:"[CMD + Enter]"},on:{click:t.onSave}})])])]):t._e()},r=[],s={render:n,staticRenderFns:r};e.a=s},lwdx:function(t,e){},mcWK:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"zbr-container"},[a("Masthead",{attrs:{hasRows:t.rows.length>0,title:t.title}}),t._v(" "),a("table",{staticClass:"zbr-main",on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.onCancel(e)}}},[t._m(0,!1,!1),t._v(" "),t._l(t.rows,function(e){return a("Row",{key:e.id,attrs:{row:e,lastDragColId:t.lastDragColId,newCardId:t.newCardId}})}),t._v(" "),0===t.rows.length?a("tr",[t._m(1,!1,!1)]):t._e()],2),t._v(" "),a("CardEditor"),t._v(" "),a("RowEditor"),t._v(" "),a("Archive",{attrs:{archivedRows:t.archivedRows,archivedCards:t.archivedCards}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"zbr-col-empty"}),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-todo"},[t._v("To do\n      ")]),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-blocked"},[t._v("Blocked\n      ")]),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-inprogress"},[t._v("In progress\n      ")]),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-done"},[t._v("Done "),a("span",{staticClass:"fa fa-check-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"zbr-table-bg",attrs:{colspan:"5"}},[a("div",{staticClass:"zbr-no-rows"},[t._v('To create a row, click the "+ Add row" button')])])}],s={render:n,staticRenderFns:r};e.a=s},mpyD:function(t,e,a){"use strict";var n=a("B1Az"),r=a("+XX7"),s=a("IN6T");e.a={name:"Row",components:{Cell:n.a,RowTags:r.a},props:{row:Object,lastDragColId:[Number,Boolean],newCardId:[Number,Boolean]},data:function(){return{hasDraftCard:!1,hover:!1}},methods:{addDraftCard:function(t){this.hasDraftCard=!0},removeDraftCards:function(t){this.hasDraftCard=!1},onClick:function(){console.log("onClick"),s.a.$emit("row-edit-details",this.row.id)}},mounted:function(){var t=this;s.a.$on("draft-card-cancel",function(e){e.rowId.toString()===t.row.id.toString()&&t.removeDraftCards(e)}),s.a.$on("draft-card-save",function(e){e.rowId===t.row.id&&(t.hasDraftCard=!1)}),s.a.$on("masthead-add-card",function(){console.log("masthead-add-card"),1===t.row.position&&(t.hasDraftCard=!0)})}}},nEKg:function(t,e,a){"use strict";var n=a("IN6T"),r=a("+XX7");e.a={name:"ArchivedRow",components:{RowTags:r.a},props:{row:Object},methods:{editCardDetails:function(t){console.log("ArchivedRow:editCardDetails",t),n.a.$emit("card-edit-details",t.target.dataset.cardId)},onClick:function(){console.log("ArchivedRow:onClick"),n.a.$emit("row-edit-details",this.row.id)}}}},ptgu:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.archivedRows.length||t.hasArchivedCard?a("div",{staticClass:"zbr-archive-container"},[a("h3",{staticClass:"zbr-section-heading"},[t._v("Archive")]),t._v(" "),a("table",{staticClass:"zbr-archive"},[t._m(0,!1,!1),t._v(" "),t._l(t.archivedRows,function(t){return a("ArchivedRow",{key:t.id,attrs:{row:t}})}),t._v(" "),t.hasArchivedCard?a("ArchivedCards",{attrs:{cells:t.archivedCards}}):t._e()],2)]):t._e()},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"zbr-col-empty"}),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-todo zar-todo"},[t._v("To do\n        ")]),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-blocked zar-blocked"},[t._v("Blocked\n        ")]),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-inprogress zar-inprogress"},[t._v("In progress\n        ")]),t._v(" "),a("th",{staticClass:"zbr-col-heading zbr-done zar-done"},[t._v("Done"),a("span",{staticClass:"fa fa-check-circle"})])])}],s={render:n,staticRenderFns:r};e.a=s},rhdv:function(t,e,a){"use strict";function n(t){a("RSvS")}var r=a("NU23"),s=a("LA3F"),o=a("VU/8"),i=n,c=o(r.a,s.a,!1,i,null,null);e.a=c.exports},xJD8:function(t,e,a){"use strict";var n=a("TUcH");e.a={name:"App",components:{Board:n.a}}},zphC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ffde6c76a13390bc9280.js.map