<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title><%= pageTitle %></title>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="node_modules/dragula/dist/dragula.min.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="node_modules/socket.io-client/dist/socket.io.min.js"></script>
    </head>
    <body class="wb-socketio-config" data-api="/">
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div class="masthead">
            <div class="heading">
                <%= heading %>
            </div>
            <div class="nav">
                <span class="nav-item nav-row-new">+ Add row</span>
                <span class="nav-item nav-task-new">+ Add task</span>
            </div>
        </div>

        <!-- Use of tables IS appropiate here... this is tabular data! -->
        <table class="main">
            <tr>
                <td class="cell-0">
                </td>
                <th class="col">Todo
                </th>
                <th class="col">Blocked
                </th>
                <th class="col">In progress
                </th>
                <th class="col">Done
                </th>
            </tr>
        </table>

        <div class="archived-tasks">
            <h3>Archive</h3>
            <div class="archived-tasks-content">
            </div>
        </div>

        <div id="hidden-templates">
            <div class="template-task-new">
                <div class="task-new" contenteditable="true"></div>
                <div class="button-container">
                    <span class="button btn-cancel" title="[Esc]">Cancel</span> 
                    <span class="button btn-save" title="[CMD + Enter]">Save</span>
                </div>
                <!-- TODO: When there is an existing task below the new task, the buttons overlap :( -->
            </div>
        </div>

        <div class="template-task-details template-modal">
            <div class="task-details-content modal-content">
                <div><input type="text" name="label" class="tdc-label form-label"></div>
                <div><textarea name="description" class="tdc-description form-textarea"></textarea></div>
                <div class="tdc-archive form-archive">Archive <input type="checkbox" name="archive" class="tdc-archive form-archive"></div> 
                <div class="modal-buttons tdc-buttons">
                    <input type="button" class="modal-cancel tdc-button-cancel" value="Cancel" title="[Esc]">
                    <!-- <input type="button" class="tdc-button-archive" value="Archive"> -->
                    <input type="button" class="modal-save tdc-button-save" value="Save" title="[CMD + Enter]">
                </div>
            </div>
        </div>

        <div class="template-row-details template-modal">
            <div class="row-details-content modal-content">
                <div class="form-title">New row</div>
                <div><input type="text" name="label" class="trc-label form-label" placeholder="Label"></div>
                <div class="trc-position">Position
                    <select name="insert-after">
                        <option value="0">1 (top)</option>
                        <!-- Options populated dynamically -->
                    </select>
                </div>
                <div><textarea name="info" class="trc-info form-textarea" placeholder="Any additional info"></textarea></div>
                
                <div class="modal-buttons trc-buttons">
                    <input type="button" class="modal-cancel trc-button-cancel" value="Cancel" title="[Esc]">
                    <input type="button" class="modal-save trc-button-save" value="Save" title="[CMD + Enter]">
                </div>
            </div>
        </div>

        <!-- <div id="modal-placeholder"></div> -->

        <script src="node_modules/dragula/dist/dragula.min.js"></script>
        <script src="js/vendor/jquery-1.12.0.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.12.0.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
    </body>
</html>
